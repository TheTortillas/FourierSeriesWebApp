<div
  class="min-h-screen pt-10 sm:pt-12 pb-16 sm:pb-24 px-5 sm:px-6 relative overflow-hidden"
  style="overflow-x: hidden; box-sizing: border-box"
  [ngClass]="
    isDarkMode
      ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-gray-100'
      : 'bg-gradient-to-br from-blue-50 via-white to-blue-50 text-gray-800'
  "
>
  <!-- Decorative background elements -->
  <div
    class="absolute top-0 left-0 w-full h-full overflow-hidden"
    style="z-index: -1; overflow-x: hidden; overflow-y: hidden"
  >
    <div
      class="sine-wave sine-wave-1"
      [ngClass]="isDarkMode ? 'opacity-5' : 'opacity-10'"
    ></div>
    <div
      class="sine-wave sine-wave-2"
      [ngClass]="isDarkMode ? 'opacity-5' : 'opacity-10'"
    ></div>
    <div
      class="sine-wave sine-wave-3"
      [ngClass]="isDarkMode ? 'opacity-5' : 'opacity-10'"
    ></div>
  </div>

  <!-- Main content container -->
  <div class="container mx-auto max-w-6xl relative z-10">
    <!-- Hero section -->
    <div
      class="flex flex-col lg:flex-row items-center justify-between mb-10 sm:mb-16 gap-6 sm:gap-8"
    >
      <!-- Left text content -->
      <div class="lg:w-1/2">
        <h1
          class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6"
          [ngClass]="isDarkMode ? 'text-gradient-dark' : 'text-gradient-light'"
        >
          Calculadora de Series de Fourier y DFT
        </h1>
        <p
          class="text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 font-light leading-relaxed"
        >
          Herramienta interactiva para el cálculo, análisis y visualización de
          Series de Fourier y Transformada Discreta
        </p>

        <!-- Single large button replacing the two buttons -->
        <div class="flex justify-center">
          <button
            (click)="navigateToCalculator()"
            class="py-3 sm:py-4 px-8 sm:px-10 rounded-lg text-lg sm:text-xl font-medium transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 w-full max-w-sm mx-auto"
            [ngClass]="
              isDarkMode
                ? 'bg-gradient-to-r from-teal-500 via-cyan-500 to-blue-500 hover:from-teal-600 hover:via-cyan-600 hover:to-blue-600 text-white'
                : 'bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 hover:from-blue-600 hover:via-indigo-600 hover:to-purple-600 text-white'
            "
            style="width: 100%; max-width: none"
          >
            <span class="flex items-center justify-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-2"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 10V3L4 14h7v7l9-11h-7z"
                />
              </svg>
              Iniciar Calculadora
            </span>
          </button>
        </div>
      </div>

      <!-- Right illustration -->
      <div
        class="lg:w-1/2 flex justify-center mt-6 lg:mt-0 w-full max-w-sm mx-auto lg:max-w-none"
      >
        <div class="relative w-full max-w-md">
          <!-- SVG illustration of Fourier plots with animated paths -->
          <div
            class="fourier-illustration"
            [ngClass]="isDarkMode ? 'fourier-dark' : 'fourier-light'"
          >
            <svg viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
              <!-- Grid lines -->
              <g
                class="grid-lines"
                [ngClass]="isDarkMode ? 'stroke-gray-700' : 'stroke-gray-200'"
              >
                <line x1="0" y1="150" x2="400" y2="150" stroke-width="2" />
                <line x1="200" y1="0" x2="200" y2="300" stroke-width="2" />
                <line
                  x1="0"
                  y1="75"
                  x2="400"
                  y2="75"
                  stroke-width="1"
                  stroke-dasharray="4"
                />
                <line
                  x1="0"
                  y1="225"
                  x2="400"
                  y2="225"
                  stroke-width="1"
                  stroke-dasharray="4"
                />
                <line
                  x1="100"
                  y1="0"
                  x2="100"
                  y2="300"
                  stroke-width="1"
                  stroke-dasharray="4"
                />
                <line
                  x1="300"
                  y1="0"
                  x2="300"
                  y2="300"
                  stroke-width="1"
                  stroke-dasharray="4"
                />
              </g>

              <!-- Original function -->
              <path
                class="original-function"
                [ngClass]="isDarkMode ? 'stroke-teal-400' : 'stroke-blue-600'"
                d="M0,150 C50,75 100,225 150,150 S250,75 300,150 S400,225 400,150"
                fill="none"
                stroke-width="3"
              />

              <!-- Approximation -->
              <path
                class="approximation"
                [ngClass]="
                  isDarkMode ? 'stroke-purple-400' : 'stroke-purple-600'
                "
                d="M0,150 C25,125 50,175 75,150 S125,125 150,150 S175,175 200,150 S225,125 250,150 S275,175 300,150 S350,125 400,150"
                fill="none"
                stroke-width="2"
              />

              <!-- Frequency components - discrete stems for DFT -->
              <g
                class="frequency-components"
                [ngClass]="isDarkMode ? 'stroke-pink-500' : 'stroke-pink-600'"
              >
                <line x1="50" y1="150" x2="50" y2="100" stroke-width="2" />
                <line x1="100" y1="150" x2="100" y2="75" stroke-width="2" />
                <line x1="150" y1="150" x2="150" y2="125" stroke-width="2" />
                <line x1="200" y1="150" x2="200" y2="175" stroke-width="2" />
                <line x1="250" y1="150" x2="250" y2="125" stroke-width="2" />
                <line x1="300" y1="150" x2="300" y2="75" stroke-width="2" />
                <line x1="350" y1="150" x2="350" y2="100" stroke-width="2" />

                <circle
                  cx="50"
                  cy="100"
                  r="4"
                  [ngClass]="isDarkMode ? 'fill-pink-500' : 'fill-pink-600'"
                />
                <circle
                  cx="100"
                  cy="75"
                  r="4"
                  [ngClass]="isDarkMode ? 'fill-pink-500' : 'fill-pink-600'"
                />
                <circle
                  cx="150"
                  cy="125"
                  r="4"
                  [ngClass]="isDarkMode ? 'fill-pink-500' : 'fill-pink-600'"
                />
                <circle
                  cx="200"
                  cy="175"
                  r="4"
                  [ngClass]="isDarkMode ? 'fill-pink-500' : 'fill-pink-600'"
                />
                <circle
                  cx="250"
                  cy="125"
                  r="4"
                  [ngClass]="isDarkMode ? 'fill-pink-500' : 'fill-pink-600'"
                />
                <circle
                  cx="300"
                  cy="75"
                  r="4"
                  [ngClass]="isDarkMode ? 'fill-pink-500' : 'fill-pink-600'"
                />
                <circle
                  cx="350"
                  cy="100"
                  r="4"
                  [ngClass]="isDarkMode ? 'fill-pink-500' : 'fill-pink-600'"
                />
              </g>
            </svg>
          </div>
        </div>
      </div>
    </div>

    <!-- Features section -->
    <div class="text-center mb-8">
      <h2
        class="text-2xl sm:text-3xl font-bold mb-4"
        [ngClass]="isDarkMode ? 'text-gradient-dark' : 'text-gradient-light'"
      >
        Explora Nuestras Herramientas
      </h2>
      <p
        class="max-w-3xl mx-auto mb-6 text-base sm:text-lg"
        [ngClass]="isDarkMode ? 'text-gray-300' : 'text-gray-700'"
      >
        Descubre las diferentes series y transformadas que puedes calcular y
        visualizar. Cada tipo ofrece ejemplos predefinidos para ayudarte a
        entender sus características y aplicaciones.
      </p>
    </div>

    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-5 sm:gap-8 mb-10 sm:mb-16"
    >
      <div
        class="feature-card rounded-xl p-5 sm:p-8 transition-all duration-300 hover:shadow-lg"
        (mouseenter)="closeDropdownIfNot('trig')"
        [ngClass]="
          isDarkMode
            ? 'bg-gray-800/50 border border-gray-700'
            : 'bg-white/80 shadow-md border border-gray-100'
        "
      >
        <div
          class="feature-icon mb-3 sm:mb-4 p-2 sm:p-3 rounded-full w-full max-w-xs h-20 sm:h-24 flex items-center justify-center mx-auto trigonometric-container"
          [ngClass]="isDarkMode ? 'bg-teal-900/30' : 'bg-blue-100'"
          style="width: 100%; max-width: none"
        >
          <div
            class="formula-container"
            [ngClass]="isDarkMode ? 'text-teal-400' : 'text-blue-600'"
            [innerHTML]="trigSeriesTeX"
          ></div>
        </div>
        <h3 class="text-xl font-semibold mb-3">Series Trigonométricas</h3>
        <p class="mb-4">
          Expande tu función en términos de senos y cosenos utilizando
          coeficientes de Fourier con visualización interactiva.
        </p>
        <div class="relative">
          <button
            (click)="toggleDropdown('trig')"
            class="w-full text-sm font-medium flex justify-between items-center hover:bg-opacity-90 px-3 py-2 rounded transition-all duration-200"
            [ngClass]="
              isDarkMode
                ? 'bg-teal-900/20 text-teal-400'
                : 'bg-blue-50 text-blue-600'
            "
          >
            <span>Explorar ejemplos</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4 ml-1"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 011.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
          <div
            *ngIf="activeDropdown === 'trig'"
            class="absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 border border-gray-200 dark:border-gray-700"
            [ngClass]="isDarkMode ? 'dark-dropdown' : 'light-dropdown'"
          >
            <button
              *ngFor="let example of trigExamples"
              (click)="navigateToCalculatorWithExample('trig', example.id)"
              class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 text-sm"
            >
              {{ example.name }}
            </button>
            <div
              class="border-t border-gray-200 dark:border-gray-700 my-1"
            ></div>
            <button
              (click)="navigateToCalculator()"
              class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 text-sm font-medium"
              [ngClass]="isDarkMode ? 'text-teal-400' : 'text-blue-600'"
            >
              Calculadora personalizada →
            </button>
          </div>
        </div>
      </div>

      <!-- New container for Half-Range Series -->
      <div
        class="feature-card rounded-xl p-8 transition-all duration-300 hover:shadow-lg"
        (mouseenter)="closeDropdownIfNot('halfRange')"
        [ngClass]="
          isDarkMode
            ? 'bg-gray-800/50 border border-gray-700'
            : 'bg-white/80 shadow-md border border-gray-100'
        "
      >
        <div
          class="feature-icon mb-4 p-3 rounded-full w-full max-w-xs h-20 flex items-center justify-center mx-auto"
          [ngClass]="isDarkMode ? 'bg-amber-900/30' : 'bg-amber-100'"
          style="width: 100%; max-width: none"
        >
          <div
            class="formula-container"
            [ngClass]="isDarkMode ? 'text-amber-400' : 'text-amber-600'"
            [innerHTML]="halfRangeTeX"
          ></div>
        </div>
        <h3 class="text-xl font-semibold mb-3">Series de Medio Rango</h3>
        <p class="mb-4">
          Expande funciones en series de senos o cosenos puros, ideal para
          problemas con condiciones de contorno específicas.
        </p>
        <div class="relative">
          <button
            (click)="toggleDropdown('halfRange')"
            class="w-full text-sm font-medium flex justify-between items-center hover:bg-opacity-90 px-3 py-2 rounded transition-all duration-200"
            [ngClass]="
              isDarkMode
                ? 'bg-amber-900/20 text-amber-400'
                : 'bg-amber-50 text-amber-600'
            "
          >
            <span>Explorar ejemplos</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4 ml-1"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 011.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
          <div
            *ngIf="activeDropdown === 'halfRange'"
            class="absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 border border-gray-200 dark:border-gray-700"
            [ngClass]="isDarkMode ? 'dark-dropdown' : 'light-dropdown'"
          >
            <button
              *ngFor="let example of halfRangeExamples"
              (click)="navigateToCalculatorWithExample('halfRange', example.id)"
              class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 text-sm"
            >
              {{ example.name }}
            </button>
            <div
              class="border-t border-gray-200 dark:border-gray-700 my-1"
            ></div>
            <button
              (click)="navigateToCalculator()"
              class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 text-sm font-medium"
              [ngClass]="isDarkMode ? 'text-amber-400' : 'text-amber-600'"
            >
              Calculadora personalizada →
            </button>
          </div>
        </div>
      </div>

      <div
        class="feature-card rounded-xl p-8 transition-all duration-300 hover:shadow-lg"
        (mouseenter)="closeDropdownIfNot('complex')"
        [ngClass]="
          isDarkMode
            ? 'bg-gray-800/50 border border-gray-700'
            : 'bg-white/80 shadow-md border border-gray-100'
        "
      >
        <div
          class="feature-icon mb-4 p-3 rounded-full w-full max-w-xs h-20 flex items-center justify-center mx-auto"
          [ngClass]="isDarkMode ? 'bg-purple-900/30' : 'bg-purple-100'"
          style="width: 100%; max-width: none"
        >
          <div
            class="formula-container"
            [ngClass]="isDarkMode ? 'text-purple-400' : 'text-purple-600'"
            [innerHTML]="complexSeriesTeX"
          ></div>
        </div>
        <h3 class="text-xl font-semibold mb-3">Series Complejas</h3>
        <p class="mb-4">
          Representa funciones periódicas en términos de exponenciales complejas
          con visualización de amplitud y fase.
        </p>
        <div class="relative">
          <button
            (click)="toggleDropdown('complex')"
            class="w-full text-sm font-medium flex justify-between items-center hover:bg-opacity-90 px-3 py-2 rounded transition-all duration-200"
            [ngClass]="
              isDarkMode
                ? 'bg-purple-900/20 text-purple-400'
                : 'bg-purple-50 text-purple-600'
            "
          >
            <span>Explorar ejemplos</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4 ml-1"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 011.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
          <div
            *ngIf="activeDropdown === 'complex'"
            class="absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 border border-gray-200 dark:border-gray-700"
            [ngClass]="isDarkMode ? 'dark-dropdown' : 'light-dropdown'"
          >
            <button
              *ngFor="let example of complexExamples"
              (click)="navigateToCalculatorWithExample('complex', example.id)"
              class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 text-sm"
            >
              {{ example.name }}
            </button>
            <div
              class="border-t border-gray-200 dark:border-gray-700 my-1"
            ></div>
            <button
              (click)="navigateToCalculator()"
              class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 text-sm font-medium"
              [ngClass]="isDarkMode ? 'text-purple-400' : 'text-purple-600'"
            >
              Calculadora personalizada →
            </button>
          </div>
        </div>
      </div>

      <div
        class="feature-card rounded-xl p-8 transition-all duration-300 hover:shadow-lg"
        (mouseenter)="closeDropdownIfNot('dft')"
        [ngClass]="
          isDarkMode
            ? 'bg-gray-800/50 border border-gray-700'
            : 'bg-white/80 shadow-md border border-gray-100'
        "
      >
        <div
          class="feature-icon mb-4 p-3 rounded-full w-full max-w-xs h-20 flex items-center justify-center mx-auto"
          [ngClass]="isDarkMode ? 'bg-pink-900/30' : 'bg-pink-100'"
          style="width: 100%; max-width: none"
        >
          <div
            class="formula-container"
            [ngClass]="isDarkMode ? 'text-pink-400' : 'text-pink-600'"
            [innerHTML]="dftTeX"
          ></div>
        </div>
        <h3 class="text-xl font-semibold mb-3">Transformada Discreta</h3>
        <p class="mb-4">
          Analiza señales mediante el algoritmo DFT para obtener componentes
          frecuenciales con visualización espectral.
        </p>
        <div class="relative">
          <button
            (click)="toggleDropdown('dft')"
            class="w-full text-sm font-medium flex justify-between items-center hover:bg-opacity-90 px-3 py-2 rounded transition-all duration-200"
            [ngClass]="
              isDarkMode
                ? 'bg-pink-900/20 text-pink-400'
                : 'bg-pink-50 text-pink-600'
            "
          >
            <span>Explorar ejemplos</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4 ml-1"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 011.414 1.414l-4 4a 1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
          <div
            *ngIf="activeDropdown === 'dft'"
            class="absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 border border-gray-200 dark:border-gray-700"
            [ngClass]="isDarkMode ? 'dark-dropdown' : 'light-dropdown'"
          >
            <button
              *ngFor="let example of dftExamples"
              (click)="navigateToCalculatorWithExample('dft', example.id)"
              class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 text-sm"
            >
              {{ example.name }}
            </button>
            <div
              class="border-t border-gray-200 dark:border-gray-700 my-1"
            ></div>
            <button
              (click)="navigateToDFT()"
              class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150 text-sm font-medium"
              [ngClass]="isDarkMode ? 'text-pink-400' : 'text-pink-600'"
            >
              Calculadora personalizada →
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- About section -->
    <div
      class="rounded-xl p-5 sm:p-8 mb-10 sm:mb-16"
      [ngClass]="
        isDarkMode
          ? 'bg-gray-800/50 border border-gray-700'
          : 'bg-white/80 shadow-md border border-gray-100'
      "
    >
      <div class="flex flex-col md:flex-row gap-6 sm:gap-8 items-center">
        <div class="md:w-2/3">
          <h2
            class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6"
            [ngClass]="
              isDarkMode ? 'text-gradient-dark' : 'text-gradient-light'
            "
          >
            Analiza y visualiza transformaciones de Fourier
          </h2>
          <p class="mb-3 sm:mb-4 leading-relaxed text-sm sm:text-base">
            Esta herramienta es es una plataforma interactiva para conectar
            conceptos matemáticos abstractos con representaciones visuales
            tangibles, mostrando la potencia y belleza de las series y
            transformadas de Fourier.
          </p>
          <p class="mb-4 sm:mb-6 leading-relaxed text-sm sm:text-base">
            Explora la descomposición espectral de funciones periódicas,
            visualiza las componentes armónicas y comprende la dualidad entre
            los dominios del tiempo y la frecuencia.
          </p>
          <div class="flex flex-wrap gap-2 sm:gap-3">
            <span
              class="px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-1"
              [ngClass]="
                isDarkMode
                  ? 'bg-gray-700 text-gray-300'
                  : 'bg-gray-100 text-gray-600'
              "
            >
              Series de Fourier
            </span>
            <span
              class="px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-1"
              [ngClass]="
                isDarkMode
                  ? 'bg-gray-700 text-gray-300'
                  : 'bg-gray-100 text-gray-600'
              "
            >
              Análisis Armónico
            </span>
            <span
              class="px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-1"
              [ngClass]="
                isDarkMode
                  ? 'bg-gray-700 text-gray-300'
                  : 'bg-gray-100 text-gray-600'
              "
            >
              Espectro de Frecuencias
            </span>
            <span
              class="px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-1"
              [ngClass]="
                isDarkMode
                  ? 'bg-gray-700 text-gray-300'
                  : 'bg-gray-100 text-gray-600'
              "
            >
              Visualización Matemática
            </span>
            <span
              class="px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-1"
              [ngClass]="
                isDarkMode
                  ? 'bg-gray-700 text-gray-300'
                  : 'bg-gray-100 text-gray-600'
              "
            >
              Transformada Discreta
            </span>
          </div>
        </div>
        <div class="md:w-1/3 flex justify-center mt-4 md:mt-0">
          <div class="pulse-circle pulse-circle-mobile">
            <div
              class="circle-container"
              [ngClass]="
                isDarkMode ? 'circle-container-dark' : 'circle-container-light'
              "
            >
              <div class="circle circle1"></div>
              <div class="circle circle2"></div>
              <div class="circle circle3"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <app-footer [isDarkMode]="isDarkMode"></app-footer>

  <!-- Buttons -->
  <app-theme-toggle></app-theme-toggle>
  <app-survey-button></app-survey-button>
</div>
